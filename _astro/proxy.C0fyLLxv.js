import{r as x}from"./index.RH_Wq4ov.js";var Qt={exports:{}},Tt={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vn;function uo(){if(vn)return Tt;vn=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,r){var o=null;if(r!==void 0&&(o=""+r),s.key!==void 0&&(o=""+s.key),"key"in s){r={};for(var a in s)a!=="key"&&(r[a]=s[a])}else r=s;return s=r.ref,{$$typeof:t,type:i,key:o,ref:s!==void 0?s:null,props:r}}return Tt.Fragment=e,Tt.jsx=n,Tt.jsxs=n,Tt}var Tn;function ho(){return Tn||(Tn=1,Qt.exports=uo()),Qt.exports}var pe=ho();const _c={name:"Alfredo Gonzalez-Martinez",location:"Los Angeles, CA 91335",github:"https://github.com/Alzy",linkedin:"https://www.linkedin.com/in/alfredo-gonzalez-mar/"},Xc=[{company:"HEAT LLC",location:"Los Angeles, CA",position:"Senior Developer / Head of 3D Pipeline Development",period:"2022 - Present",achievements:["Led development of the company's online 3D technical stack and animation pipeline.","Built and led AI-driven research and development of the auto-rigging pipeline including voxel-based rigging and pose inference systems.","Designed a custom humanoid IK system for complex animation retargetting.","Developed a cross-platform plugin manager/portal in C++.","Authored and maintained plugins for Blender, Daz, Unity, and Unreal Engine."],technologies:["TypeScript","Three.js","React","Bun","Docker","Python","C++","QT","Rust","WGPU","TypeORM","Postgres","Redis","Blender API","Unity","Unreal Engine"]},{company:"Independent",location:"Los Angeles, CA",position:"Freelance Developer",period:"July 2020 - Present",achievements:["Developed custom automation tools, web apps, and full-scale CMS integrations across diverse technology stacks.","Built and maintained Shopify and Magento stores, and sites using Kirby, Hugo, Astro, React, and Vue.","Optimized legacy codebases and provided deep technical knowledge across frontend, backend, and DevOps.","Handled SEO tuning, GTM integration, and full custom builds for diverse client requirements."],technologies:["React","Vue","Typescript","JavaScript","Sass","PHP","Docker","AWS","Shopify","Magento","Kirby","Hugo","Astro","Tailwind","Bulma","SEO","GTM"]},{company:"Scratch Tools LLC",location:"Los Angeles, CA",position:"Lead Developer / Co-Founder",period:"June 2017 - July 2024",achievements:["Founded and led Education Technology company focused on STEM classroom tools for calculation-dense documents.","Designed and built the entire stack using Nuxt, Vue, TypeScript, Laravel, Postgres, and Redis.","Created a smooth, distraction-free writing experience tailored for students and classrooms.","Participated in USC's Viterbi Startup Garage and NSF I-Corps program for startup validation."],technologies:["Nuxt","Vue","TypeScript","Laravel","Postgres","Redis","JavaScript","Heroku","AWS"]},{company:"1646 Ideation Studio",location:"Los Angeles, CA",position:"Fullstack Developer / Partner",period:"September 2015 - July 2020",achievements:["Partnered as lead developer with local design firm, collaborating on diverse technology projects.","Developed user interface improvements for software and UX-rich websites and web applications.","Built software for art installations and provided technical and creative consultations.","Created websites across platforms including Squarespace, Shopify, WooCommerce, WordPress, Magento, Laravel, and Django."],technologies:["Squarespace","Shopify","WooCommerce","WordPress","Magento","Laravel","Django","JavaScript","PHP","Python","HTML","CSS"]},{company:"Pro Beauty Online",location:"Los Angeles, CA",position:"Web Developer and Administrator",period:"October 2016 - January 2019",achievements:["Built and maintained the company's Magento eCommerce webstore (probeautyonline.com).","Developed custom administrative tools and maintained/customized Shopify webstore.","Provided IT consultation using stack: Magento, PHP, Bootstrap, MySQL, JavaScript, CSS3, Python, PostgreSQL, Django, TKinter."],technologies:["Magento","PHP","Bootstrap","MySQL","JavaScript","CSS3","Python","PostgreSQL","Django","TKinter","Shopify"]},{company:"Khoravsky Enterprises",location:"Los Angeles, CA",position:"Web Administrator / Developer",period:"August 2013 - July 2016",achievements:["Built and maintained various websites, primarily WHcamera.com and astronomy-focused platforms.","Developed science expo websites (SIA Expo) and astronomy resources (iNova CCD USA, DoctorDReviews, TelescopeS.net).","Handled social media, inventory, data entry, and IT duties for the organization."],technologies:["Magento","PHP","MySQL","JavaScript","HTML","CSS"]},{company:"Veterans First, Orange County",location:"Los Angeles, CA",position:"Web  Intern",period:"August 2012 - December 2012",achievements:["Developed and briefly maintained the joomla based website for the non-profit organization","Provided website administration, updating contents and events listed on the site."],technologies:["Joomla","PHP","MySQL","JavaScript","HTML","CSS"]}],Jc=[{name:"Honest History",description:"Built and maintain the companies bespoke subscription automation tool which automatically renews subscription orders with curated product selections based on customer's purchases.",technologies:["Shopify Admin API","GraphQL","Typescript","Nuxt","Vue 3","Google Cloud","Google Firestore"],website:"https://honesthistory.co/"},{name:"Bayflats Lodge",description:"I periodically assist with Bayflats with website and custom booking engine troubleshooting as well provide support to the marketing teams technical needs.",technologies:["Woocommerce","PHP","Shopify","Typescript","Node.js","MySQL","Google Tag Manager"],website:"https://www.bayflatslodge.com/"},{name:"HEAT",description:"Originally brought on as an independent contractor, I built the companies Blender plugin which included debugging tools, retargeting, queue, and animation tools, as well as an updater. The plugin also includes a web portal component which eventually became the basis for the companies bridge system.",technologies:["Python","Blender API","React","Typescript","Requests","Pip","SQLite"],website:"https://github.com/HEAT-tech/heat-blender-tools"},{name:"ArtRank",description:"Designed and built the entire technical stack for this art installation by Sergio Bromberg. The project included a custom CMS for the artist to remotely update the content onscreen as well as middleware to control the display orientation when rotated. Exhibited at the Art Los Angeles Contemporary, 2017. ",technologies:["Javascript","Custom CMS","PHP","SQLite","Windows SDK"],website:"https://www.sergiobromberg.com/artrank"},{name:"Palacio Palace",description:"Built an online live streaming platform/pipeline allowing Palacio to host virtual multimedia musical performances online (https://palacio.tv) during the height of the pandemic. Users were able to anonymously view the performance online and chat with other attendees.",technologies:["Typescript","Python","Nuxt","Vue","NodeJs","Nginx","PostgreSQL","RTMP","OSC","Docker","AWS"],website:"https://youtu.be/gB3HwQiEeKs?si=UHz8D9iTmgz23EsE&t=243"},{name:"Bio-Behavioral Medical Clinics",description:"Built the clinics website as well as administration and automation tools to collect client information and inform patients of medical document updates.",technologies:["PHP","Python","Javascript","Wordpress","Google Tag Manager","Google Datalayer"],website:"https://bbmc-inc.com/"},{name:"MIT - School of Architecture and Planning",description:"Inherited and maintained MIT's Future Urban Collectives website, a student research project from the department of architecture and planning. I worked directly with the director and lead researcher on the project to troubleshoot deployment issues, complete the website and provide additional maintenance.",technologies:["Preact","Javascript","JQuery","Css"],website:"https://urbancollectives.org/"},{name:"A People’s EPA",description:"Built the website and administration tools for the A People’s EPA organization. Tooling includes a PDF parser for quicker uploads of documents and custom search functionality.",technologies:["PHP","Javascript","Kirby"],website:"https://www.apeoplesepa.org/"},{name:"Hotel Saint Vincent",description:"Assisted the marketing teams technical needs.",technologies:["Javascript","Google Tag Manager","Google Datalayer"],website:"https://saintvincentnola.com/"},{name:"Townschool",description:"Assisted this institution with static site development for several programs and landing pages.",technologies:["Nuxt","Vue","Javascript","AWS"],website:"https://www.townschool.com/"},{name:"LAD Design",description:"Inherited the development of the website part way through development. Brought project to completion.",technologies:["Javascript","JQuery","Cargo"],website:"https://laddesign.net/"},{name:"Michael W. Folonis Architects",description:"I built and support the companies website. This codebase is in the legacy Squarespace API - back when Squarespace had a custom developer ecosystem.",technologies:["Javascript","HTML","CSS","Squarespace"],website:"https://folonisarchitects.com"}],Yc=[{institution:"California State University-Northridge",location:"Northridge, CA",degree:"Bachelor's degree in Mechanical Engineering",period:"2020 - 2023",achievements:[]},{institution:"Pierce College",location:"Winnetka, CA",degree:"Associate's degree in Engineering and Computer Science",period:"2021",achievements:[]}],qc={programmingLanguages:["TypeScript","Python","C++","Rust","WGSL","PHP","C#","JavaScript","Bash","SQL","Lua"],frontendDevelopment:["React","Vue","Preact","Next.js","Nuxt","Tailwind CSS","Astro","Hugo","HTML","Sass","CSS"],backendDevelopment:["Node.js","Laravel","Django","FastAPI"],databaseAndStorage:["PostgreSQL","MySQL","Maria","SQLite","Mongo","Redis","TypeORM"],cloudAndDevOps:["AWS","Nginx","Apache","LetsEncrypt","Github Actions","Bitbucket Pipelines","Docker","Linode","Google Cloud","Heroku","BlueHost","Siteground"],toolsAndServices:["Git","GitHub","SEO","Npm","Bun","Yarn","Pip","Cargo","Composer","REST APIs","Shopify","WooCommerce","Magento","Kirby","WordPress","Three.js","Blender API","WGPU","QT","Unity","Unreal Engine","GTM","Daz","Godot","JUCE","Choc","CMake"]},Qc=[{title:"Xochi Thumbnailer - Audio Waveform Generator",github:"https://github.com/Alzy/Xochi-Thumbnailer",description:["Python-based tool that creates visually appealing and informative waveform images from audio files, inspired by Pioneer/AlphaTheta and Denon DJ equipment.","Implements multi-band frequency analysis (low, mid, high) without FFT, using efficient filtering for real-time performance.","Generates multiple waveform styles: rainbow coloring, three-band visualization, and interpolated rendering with custom colors.","Created custom XPKS binary format for compact multi-resolution peak data storage with 1-3 mip levels.","Part of the larger Xochi Performer performance tool ecosystem, designed for modular iteration and extensibility."],technologies:["Python","NumPy","SciPy","Matplotlib","Pillow","Pydub","Audio Processing","DSP","Binary File Formats"]},{title:"HEAT 3D Pipeline",github:"https://heat.tech/",description:["Led development of AI-driven auto-rigging pipeline using TypeScript, Python, Rust, and WGPU.","Implemented voxel-based rigging and pose inference systems for enhanced 3D workflows.","Created custom humanoid IK system for complex animation retargetting across diverse 3D models and armatures.","Wrote a cross-platform plugin manager in C++ and QT.","Developed plugins for Blender, Daz, Unity, and Unreal Engine integration."],technologies:["TypeScript","Python","Rust","WGPU","C++","QT","Three.js","React","NextJS","Blender API","Unity","Unreal Engine","Daz Studio","TypeORM","Postgres","Redis"]},{title:"STEMLINK (formerly Scratch Tools)",github:"https://stemlink.net/",description:["Built comprehensive education technology platform for STEM classrooms using modern full-stack architecture.","Designed and implemented entire system using Nuxt, Vue, TypeScript, Laravel, Postgres, and Redis.","Created proprietary calculation editor 'Scratchpad' - an online workspace for producing calculations with word processor efficiency.","Developed dedicated calculation processor for drafting and sharing math-based information in digital format.","Enabled new level of collaboration between educators and students through seamless work creation and sharing."],technologies:["Nuxt","Vue","TypeScript","Laravel","Postgres","Redis","JavaScript","PHP","HTML","CSS"]},{title:"OBS MIDI",github:"https://github.com/Alzy/obs-midi",description:["Developed C++ plugin for OBS streaming software enabling MIDI device control integration.","Built bidirectional communication system allowing MIDI devices to trigger OBS events and vice versa.","Solved efficiency challenges in stream source control, replacing traditional mouse/keyboard workflows.","Collaborated with developer Chris through OBS Discord community for ongoing maintenance and updates.","Ongoing project since June 2020 providing enhanced streaming control capabilities."],technologies:["C++","MIDI","OBS Studio","CMake","Qt","JSON"]},{title:"Palacio.tv",github:"https://palacio.tv",description:["Created virtual venue platform hosting digital and physical audiovisual experiences using Python, Django, Vue.js, and Unreal Engine.","Rapidly pivoted from physical events to virtual platform during COVID-19 pandemic within a single weekend.","Built complete platform infrastructure including self-hosted media server and real-time chat system.","Hosted 2,201 viewers in last 6 months of 2020, continuing weekly virtual events.","Established cultural hub combining traditional event hosting with cutting-edge virtual technology."],technologies:["Typescript","Python","Nuxt","Vue","NodeJs","Nginx","PostgreSQL","RTMP","OSC","Docker","AWS"]},{title:"Serious Business Virtual Gallery",github:"https://seriousbusiness.la/",description:["Developed smartphone app-based virtual art gallery using C#, C++, and Unreal Engine.","Created independent art space free from private investor influence, enabling creative freedom for artists.","Built immersive virtual gallery experience transcending physical space limitations.","Designed alternative to traditional exclusive art spaces, focusing on cultural benefit over profit.","Collaborated with 1646 Ideation Studio to deliver innovative art exhibition platform."],technologies:["C#","C++","Unreal Engine","Blueprint","Android","iOS","Mobile Development","3D Graphics"]},{title:"alzyOSC - Ableton Live Remote Control",github:"https://github.com/Alzy/alzyOSC",description:["Built Ableton Live remote script using Python, Ableton API, Vue.js, and Electron.","Extended LiveOSC2 functionality to expose Ableton functions through OSC interface.","Created seamless integration between digital audio workstation and external control systems.","Enabled remote control and automation capabilities for music production workflows."],technologies:["Python","Ableton Live API","Vue.js","Electron","OSC","JavaScript","Node.js"]}],Zc=[{name:"TechCrunch Disrupt 2021 – Participant",issuer:"TechCrunch",date:"September 2021",type:"Pitch Competition",position:"Competed"},{name:"Bronco Startup Challenge",issuer:"Cal Poly Pomona",date:"Apr 2021",type:"Pitch Competition",position:"2nd Place Winner"},{name:"Fast Pitch Competition",issuer:"Cal Poly Pomona",date:"Feb 2021",type:"Pitch Competition",position:"Winner"},{name:"NSF I-Corps – Participant",issuer:"National Science Foundation",date:"Jan 2021",type:"National Program",position:"Completed Program"},{name:"Viterbi Startup Garage – Resident",issuer:"USC",date:"2020",type:"Accelerator Program",position:"Resident"}],tu=[{title:"Controlling a Below-the-Elbow Prosthetic Arm Using the Infinity Foot Controller",journal:"Prosthesis",date:"November 2023",authors:"Peter L. Bishay, Jack Wilgus, RunRun Chen, Diego Valenzuela, Victor Medina, Calvin Tan, Taylor Ittner, Miguel Caldera, Cristina Rubalcava, Shaghik Safarian, Gerbert Funes Alfaro, Alfredo Gonzalez-Martinez, Matthew Gosparini, Jose Fuentes-Perez, Andy Lima, Jonnathan Villalobos, Abrahan Solis",type:"Technical Note",doi:"10.3390/prosthesis5040084",abstract:"This work presents the 'Infinity Foot Controller' as a new approach to control a five-finger below-the-elbow prosthetic arm...",keywords:["foot controller","wrist bending and rotation","haptic feedback"],url:"https://www.mdpi.com/2673-1592/5/4/84"}],Ri=x.createContext({});function fo(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const Fe=typeof window<"u",po=Fe?x.useLayoutEffect:x.useEffect,Oe=x.createContext(null);function je(t,e){t.indexOf(e)===-1&&t.push(e)}function Ne(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const _=(t,e,n)=>n>e?e:n<t?t:n;let Ue=()=>{};const X={},Li=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function ki(t){return typeof t=="object"&&t!==null}const Bi=t=>/^0[^.\s]+$/u.test(t);function We(t){let e;return()=>(e===void 0&&(e=t()),e)}const H=t=>t,mo=(t,e)=>n=>e(t(n)),kt=(...t)=>t.reduce(mo),Vt=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class He{constructor(){this.subscriptions=[]}add(e){return je(this.subscriptions,e),()=>Ne(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let r=0;r<s;r++){const o=this.subscriptions[r];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const K=t=>t*1e3,z=t=>t/1e3;function Ii(t,e){return e?t*(1e3/e):0}const Fi=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,go=1e-7,yo=12;function vo(t,e,n,i,s){let r,o,a=0;do o=e+(n-e)/2,r=Fi(o,i,s)-t,r>0?n=o:e=o;while(Math.abs(r)>go&&++a<yo);return o}function Bt(t,e,n,i){if(t===e&&n===i)return H;const s=r=>vo(r,0,1,t,n);return r=>r===0||r===1?r:Fi(s(r),e,i)}const Oi=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ji=t=>e=>1-t(1-e),Ni=Bt(.33,1.53,.69,.99),Ge=ji(Ni),Ui=Oi(Ge),Wi=t=>(t*=2)<1?.5*Ge(t):.5*(2-Math.pow(2,-10*(t-1))),Ke=t=>1-Math.sin(Math.acos(t)),Hi=ji(Ke),Gi=Oi(Ke),To=Bt(.42,0,1,1),Po=Bt(0,0,.58,1),Ki=Bt(.42,0,.58,1),So=t=>Array.isArray(t)&&typeof t[0]!="number",zi=t=>Array.isArray(t)&&typeof t[0]=="number",xo={linear:H,easeIn:To,easeInOut:Ki,easeOut:Po,circIn:Ke,circInOut:Gi,circOut:Hi,backIn:Ge,backInOut:Ui,backOut:Ni,anticipate:Wi},bo=t=>typeof t=="string",Pn=t=>{if(zi(t)){Ue(t.length===4);const[e,n,i,s]=t;return Bt(e,n,i,s)}else if(bo(t))return xo[t];return t},Ot=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function wo(t,e){let n=new Set,i=new Set,s=!1,r=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(c){o.has(c)&&(u.schedule(c),t()),c(a)}const u={schedule:(c,h=!1,d=!1)=>{const p=d&&s?n:i;return h&&o.add(c),p.has(c)||p.add(c),c},cancel:c=>{i.delete(c),o.delete(c)},process:c=>{if(a=c,s){r=!0;return}s=!0,[n,i]=[i,n],n.forEach(l),n.clear(),s=!1,r&&(r=!1,u.process(c))}};return u}const Ao=40;function $i(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,o=Ot.reduce((g,w)=>(g[w]=wo(r),g),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:h,preRender:d,render:f,postRender:p}=o,v=()=>{const g=X.useManualTiming?s.timestamp:performance.now();n=!1,X.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(g-s.timestamp,Ao),1)),s.timestamp=g,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),c.process(s),h.process(s),d.process(s),f.process(s),p.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(v))},y=()=>{n=!0,i=!0,s.isProcessing||t(v)};return{schedule:Ot.reduce((g,w)=>{const S=o[w];return g[w]=(A,R=!1,b=!1)=>(n||y(),S.schedule(A,R,b)),g},{}),cancel:g=>{for(let w=0;w<Ot.length;w++)o[Ot[w]].cancel(g)},state:s,steps:o}}const{schedule:C,cancel:Y,state:k,steps:Zt}=$i(typeof requestAnimationFrame<"u"?requestAnimationFrame:H,!0);let Ut;function Co(){Ut=void 0}const O={now:()=>(Ut===void 0&&O.set(k.isProcessing||X.useManualTiming?k.timestamp:performance.now()),Ut),set:t=>{Ut=t,queueMicrotask(Co)}},_i=t=>e=>typeof e=="string"&&e.startsWith(t),ze=_i("--"),Vo=_i("var(--"),$e=t=>Vo(t)?Do.test(t.split("/*")[0].trim()):!1,Do=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,gt={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Dt={...gt,transform:t=>_(0,1,t)},jt={...gt,default:1},xt=t=>Math.round(t*1e5)/1e5,_e=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Mo(t){return t==null}const Eo=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xe=(t,e)=>n=>!!(typeof n=="string"&&Eo.test(n)&&n.startsWith(t)||e&&!Mo(n)&&Object.prototype.hasOwnProperty.call(n,e)),Xi=(t,e,n)=>i=>{if(typeof i!="string")return i;const[s,r,o,a]=i.match(_e);return{[t]:parseFloat(s),[e]:parseFloat(r),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Ro=t=>_(0,255,t),te={...gt,transform:t=>Math.round(Ro(t))},nt={test:Xe("rgb","red"),parse:Xi("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+te.transform(t)+", "+te.transform(e)+", "+te.transform(n)+", "+xt(Dt.transform(i))+")"};function Lo(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const me={test:Xe("#"),parse:Lo,transform:nt.transform},It=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),J=It("deg"),$=It("%"),P=It("px"),ko=It("vh"),Bo=It("vw"),Sn={...$,parse:t=>$.parse(t)/100,transform:t=>$.transform(t*100)},lt={test:Xe("hsl","hue"),parse:Xi("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+$.transform(xt(e))+", "+$.transform(xt(n))+", "+xt(Dt.transform(i))+")"},E={test:t=>nt.test(t)||me.test(t)||lt.test(t),parse:t=>nt.test(t)?nt.parse(t):lt.test(t)?lt.parse(t):me.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?nt.transform(t):lt.transform(t),getAnimatableNone:t=>{const e=E.parse(t);return e.alpha=0,E.transform(e)}},Io=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Fo(t){return isNaN(t)&&typeof t=="string"&&(t.match(_e)?.length||0)+(t.match(Io)?.length||0)>0}const Ji="number",Yi="color",Oo="var",jo="var(",xn="${}",No=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mt(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let r=0;const a=e.replace(No,l=>(E.test(l)?(i.color.push(r),s.push(Yi),n.push(E.parse(l))):l.startsWith(jo)?(i.var.push(r),s.push(Oo),n.push(l)):(i.number.push(r),s.push(Ji),n.push(parseFloat(l))),++r,xn)).split(xn);return{values:n,split:a,indexes:i,types:s}}function qi(t){return Mt(t).values}function Qi(t){const{split:e,types:n}=Mt(t),i=e.length;return s=>{let r="";for(let o=0;o<i;o++)if(r+=e[o],s[o]!==void 0){const a=n[o];a===Ji?r+=xt(s[o]):a===Yi?r+=E.transform(s[o]):r+=s[o]}return r}}const Uo=t=>typeof t=="number"?0:E.test(t)?E.getAnimatableNone(t):t;function Wo(t){const e=qi(t);return Qi(t)(e.map(Uo))}const q={test:Fo,parse:qi,createTransformer:Qi,getAnimatableNone:Wo};function ee(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Ho({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,r=0,o=0;if(!e)s=r=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=ee(l,a,t+1/3),r=ee(l,a,t),o=ee(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:i}}function Kt(t,e){return n=>n>0?e:t}const V=(t,e,n)=>t+(e-t)*n,ne=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},Go=[me,nt,lt],Ko=t=>Go.find(e=>e.test(t));function bn(t){const e=Ko(t);if(!e)return!1;let n=e.parse(t);return e===lt&&(n=Ho(n)),n}const wn=(t,e)=>{const n=bn(t),i=bn(e);if(!n||!i)return Kt(t,e);const s={...n};return r=>(s.red=ne(n.red,i.red,r),s.green=ne(n.green,i.green,r),s.blue=ne(n.blue,i.blue,r),s.alpha=V(n.alpha,i.alpha,r),nt.transform(s))},ge=new Set(["none","hidden"]);function zo(t,e){return ge.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function $o(t,e){return n=>V(t,e,n)}function Je(t){return typeof t=="number"?$o:typeof t=="string"?$e(t)?Kt:E.test(t)?wn:Jo:Array.isArray(t)?Zi:typeof t=="object"?E.test(t)?wn:_o:Kt}function Zi(t,e){const n=[...t],i=n.length,s=t.map((r,o)=>Je(r)(r,e[o]));return r=>{for(let o=0;o<i;o++)n[o]=s[o](r);return n}}function _o(t,e){const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=Je(t[s])(t[s],e[s]));return s=>{for(const r in i)n[r]=i[r](s);return n}}function Xo(t,e){const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const r=e.types[s],o=t.indexes[r][i[r]],a=t.values[o]??0;n[s]=a,i[r]++}return n}const Jo=(t,e)=>{const n=q.createTransformer(e),i=Mt(t),s=Mt(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?ge.has(t)&&!s.values.length||ge.has(e)&&!i.values.length?zo(t,e):kt(Zi(Xo(i,s),s.values),n):Kt(t,e)};function ts(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?V(t,e,n):Je(t)(t,e)}const Yo=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>C.update(e,n),stop:()=>Y(e),now:()=>k.isProcessing?k.timestamp:O.now()}},es=(t,e,n=10)=>{let i="";const s=Math.max(Math.round(e/n),2);for(let r=0;r<s;r++)i+=Math.round(t(r/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},zt=2e4;function Ye(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<zt;)e+=n,i=t.next(e);return e>=zt?1/0:e}function qo(t,e=100,n){const i=n({...t,keyframes:[0,e]}),s=Math.min(Ye(i),zt);return{type:"keyframes",ease:r=>i.next(s*r).value/e,duration:z(s)}}const Qo=5;function ns(t,e,n){const i=Math.max(e-Qo,0);return Ii(n-t(i),e-i)}const D={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ie=.001;function Zo({duration:t=D.duration,bounce:e=D.bounce,velocity:n=D.velocity,mass:i=D.mass}){let s,r,o=1-e;o=_(D.minDamping,D.maxDamping,o),t=_(D.minDuration,D.maxDuration,z(t)),o<1?(s=u=>{const c=u*o,h=c*t,d=c-n,f=ye(u,o),p=Math.exp(-h);return ie-d/f*p},r=u=>{const h=u*o*t,d=h*n+n,f=Math.pow(o,2)*Math.pow(u,2)*t,p=Math.exp(-h),v=ye(Math.pow(u,2),o);return(-s(u)+ie>0?-1:1)*((d-f)*p)/v}):(s=u=>{const c=Math.exp(-u*t),h=(u-n)*t+1;return-ie+c*h},r=u=>{const c=Math.exp(-u*t),h=(n-u)*(t*t);return c*h});const a=5/t,l=er(s,r,a);if(t=K(t),isNaN(l))return{stiffness:D.stiffness,damping:D.damping,duration:t};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:o*2*Math.sqrt(i*u),duration:t}}}const tr=12;function er(t,e,n){let i=n;for(let s=1;s<tr;s++)i=i-t(i)/e(i);return i}function ye(t,e){return t*Math.sqrt(1-e*e)}const nr=["duration","bounce"],ir=["stiffness","damping","mass"];function An(t,e){return e.some(n=>t[n]!==void 0)}function sr(t){let e={velocity:D.velocity,stiffness:D.stiffness,damping:D.damping,mass:D.mass,isResolvedFromDuration:!1,...t};if(!An(t,ir)&&An(t,nr))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,r=2*_(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:D.mass,stiffness:s,damping:r}}else{const n=Zo(t);e={...e,...n,mass:D.mass},e.isResolvedFromDuration=!0}return e}function $t(t=D.visualDuration,e=D.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const r=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:r},{stiffness:l,damping:u,mass:c,duration:h,velocity:d,isResolvedFromDuration:f}=sr({...n,velocity:-z(n.velocity||0)}),p=d||0,v=u/(2*Math.sqrt(l*c)),y=o-r,m=z(Math.sqrt(l/c)),T=Math.abs(y)<5;i||(i=T?D.restSpeed.granular:D.restSpeed.default),s||(s=T?D.restDelta.granular:D.restDelta.default);let g;if(v<1){const S=ye(m,v);g=A=>{const R=Math.exp(-v*m*A);return o-R*((p+v*m*y)/S*Math.sin(S*A)+y*Math.cos(S*A))}}else if(v===1)g=S=>o-Math.exp(-m*S)*(y+(p+m*y)*S);else{const S=m*Math.sqrt(v*v-1);g=A=>{const R=Math.exp(-v*m*A),b=Math.min(S*A,300);return o-R*((p+v*m*y)*Math.sinh(b)+S*y*Math.cosh(b))/S}}const w={calculatedDuration:f&&h||null,next:S=>{const A=g(S);if(f)a.done=S>=h;else{let R=S===0?p:0;v<1&&(R=S===0?K(p):ns(g,S,A));const b=Math.abs(R)<=i,F=Math.abs(o-A)<=s;a.done=b&&F}return a.value=a.done?o:A,a},toString:()=>{const S=Math.min(Ye(w),zt),A=es(R=>w.next(S*R).value,S,30);return S+"ms "+A},toTransition:()=>{}};return w}$t.applyToOptions=t=>{const e=qo(t,100,$t);return t.ease=e.ease,t.duration=K(e.duration),t.type="keyframes",t};function ve({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=t[0],d={done:!1,value:h},f=b=>a!==void 0&&b<a||l!==void 0&&b>l,p=b=>a===void 0?l:l===void 0||Math.abs(a-b)<Math.abs(l-b)?a:l;let v=n*e;const y=h+v,m=o===void 0?y:o(y);m!==y&&(v=m-h);const T=b=>-v*Math.exp(-b/i),g=b=>m+T(b),w=b=>{const F=T(b),j=g(b);d.done=Math.abs(F)<=u,d.value=d.done?m:j};let S,A;const R=b=>{f(d.value)&&(S=b,A=$t({keyframes:[d.value,p(d.value)],velocity:ns(g,b,d.value),damping:s,stiffness:r,restDelta:u,restSpeed:c}))};return R(0),{calculatedDuration:null,next:b=>{let F=!1;return!A&&S===void 0&&(F=!0,w(b),R(b)),S!==void 0&&b>=S?A.next(b-S):(!F&&w(b),d)}}}function or(t,e,n){const i=[],s=n||X.mix||ts,r=t.length-1;for(let o=0;o<r;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||H:e;a=kt(l,a)}i.push(a)}return i}function rr(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const r=t.length;if(Ue(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[r-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=or(e,i,s),l=a.length,u=c=>{if(o&&c<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const d=Vt(t[h],t[h+1],c);return a[h](d)};return n?c=>u(_(t[0],t[r-1],c)):u}function ar(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=Vt(0,e,i);t.push(V(n,1,s))}}function lr(t){const e=[0];return ar(e,t.length-1),e}function cr(t,e){return t.map(n=>n*e)}function ur(t,e){return t.map(()=>e||Ki).splice(0,t.length-1)}function bt({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=So(i)?i.map(Pn):Pn(i),r={done:!1,value:e[0]},o=cr(n&&n.length===e.length?n:lr(e),t),a=rr(o,e,{ease:Array.isArray(s)?s:ur(e,s)});return{calculatedDuration:t,next:l=>(r.value=a(l),r.done=l>=t,r)}}const hr=t=>t!==null;function qe(t,{repeat:e,repeatType:n="loop"},i,s=1){const r=t.filter(hr),a=s<0||e&&n!=="loop"&&e%2===1?0:r.length-1;return!a||i===void 0?r[a]:i}const dr={decay:ve,inertia:ve,tween:bt,keyframes:bt,spring:$t};function is(t){typeof t.type=="string"&&(t.type=dr[t.type])}class Qe{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const fr=t=>t/100;class Ze extends Qe{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==O.now()&&this.tick(O.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;is(e);const{type:n=bt,repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:o=0}=e;let{keyframes:a}=e;const l=n||bt;l!==bt&&typeof a[0]!="number"&&(this.mixKeyframes=kt(fr,ts(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});r==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Ye(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:s,mixKeyframes:r,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return i.next(0);const{delay:u=0,keyframes:c,repeat:h,repeatType:d,repeatDelay:f,type:p,onUpdate:v,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const m=this.currentTime-u*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?m<0:m>s;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let g=this.currentTime,w=i;if(h){const b=Math.min(this.currentTime,s)/a;let F=Math.floor(b),j=b%1;!j&&b>=1&&(j=1),j===1&&F--,F=Math.min(F,h+1),!!(F%2)&&(d==="reverse"?(j=1-j,f&&(j-=f/a)):d==="mirror"&&(w=o)),g=_(0,1,j)*a}const S=T?{done:!1,value:c[0]}:w.next(g);r&&(S.value=r(S.value));let{done:A}=S;!T&&l!==null&&(A=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return R&&p!==ve&&(S.value=qe(c,this.options,y,this.speed)),v&&v(S.value),R&&this.finish(),S}then(e,n){return this.finished.then(e,n)}get duration(){return z(this.calculatedDuration)}get time(){return z(this.currentTime)}set time(e){e=K(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(O.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=z(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Yo,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(O.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function pr(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const it=t=>t*180/Math.PI,Te=t=>{const e=it(Math.atan2(t[1],t[0]));return Pe(e)},mr={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Te,rotateZ:Te,skewX:t=>it(Math.atan(t[1])),skewY:t=>it(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Pe=t=>(t=t%360,t<0&&(t+=360),t),Cn=Te,Vn=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Dn=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),gr={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Vn,scaleY:Dn,scale:t=>(Vn(t)+Dn(t))/2,rotateX:t=>Pe(it(Math.atan2(t[6],t[5]))),rotateY:t=>Pe(it(Math.atan2(-t[2],t[0]))),rotateZ:Cn,rotate:Cn,skewX:t=>it(Math.atan(t[4])),skewY:t=>it(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Se(t){return t.includes("scale")?1:0}function xe(t,e){if(!t||t==="none")return Se(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=gr,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=mr,s=a}if(!s)return Se(e);const r=i[e],o=s[1].split(",").map(vr);return typeof r=="function"?r(o):o[r]}const yr=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return xe(n,e)};function vr(t){return parseFloat(t.trim())}const yt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vt=new Set(yt),Mn=t=>t===gt||t===P,Tr=new Set(["x","y","z"]),Pr=yt.filter(t=>!Tr.has(t));function Sr(t){const e=[];return Pr.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const st={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>xe(e,"x"),y:(t,{transform:e})=>xe(e,"y")};st.translateX=st.x;st.translateY=st.y;const ot=new Set;let be=!1,we=!1,Ae=!1;function ss(){if(we){const t=Array.from(ot).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const s=Sr(i);s.length&&(n.set(i,s),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([r,o])=>{i.getValue(r)?.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}we=!1,be=!1,ot.forEach(t=>t.complete(Ae)),ot.clear()}function os(){ot.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(we=!0)})}function xr(){Ae=!0,os(),ss(),Ae=!1}class tn{constructor(e,n,i,s,r,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=s,this.element=r,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ot.add(this),be||(be=!0,C.read(os),C.resolveKeyframes(ss))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:s}=this;if(e[0]===null){const r=s?.get(),o=e[e.length-1];if(r!==void 0)e[0]=r;else if(i&&n){const a=i.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&r===void 0&&s.set(e[0])}pr(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ot.delete(this)}cancel(){this.state==="scheduled"&&(ot.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const br=t=>t.startsWith("--");function wr(t,e,n){br(e)?t.style.setProperty(e,n):t.style[e]=n}const Ar=We(()=>window.ScrollTimeline!==void 0),Cr={};function Vr(t,e){const n=We(t);return()=>Cr[e]??n()}const rs=Vr(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),St=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,En={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:St([0,.65,.55,1]),circOut:St([.55,0,1,.45]),backIn:St([.31,.01,.66,-.59]),backOut:St([.33,1.53,.69,.99])};function as(t,e){if(t)return typeof t=="function"?rs()?es(t,e):"ease-out":zi(t)?St(t):Array.isArray(t)?t.map(n=>as(n,e)||En.easeOut):En[t]}function Dr(t,e,n,{delay:i=0,duration:s=300,repeat:r=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[e]:n};l&&(c.offset=l);const h=as(a,s);Array.isArray(h)&&(c.easing=h);const d={delay:i,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"};return u&&(d.pseudoElement=u),t.animate(c,d)}function ls(t){return typeof t=="function"&&"applyToOptions"in t}function Mr({type:t,...e}){return ls(t)&&rs()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Er extends Qe{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:s,pseudoElement:r,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!r,this.allowFlatten=o,this.options=e,Ue(typeof e.type!="string");const u=Mr(e);this.animation=Dr(n,i,s,u,r),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const c=qe(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):wr(n,i,c),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return z(Number(e))}get time(){return z(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=K(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Ar()?(this.animation.timeline=e,H):n(this)}}const cs={anticipate:Wi,backInOut:Ui,circInOut:Gi};function Rr(t){return t in cs}function Lr(t){typeof t.ease=="string"&&Rr(t.ease)&&(t.ease=cs[t.ease])}const Rn=10;class kr extends Er{constructor(e){Lr(e),is(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:s,element:r,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new Ze({...o,autoplay:!1}),l=K(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-Rn).value,a.sample(l).value,Rn),a.stop()}}const Ln=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(q.test(t)||t==="0")&&!t.startsWith("url("));function Br(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Ir(t,e,n,i){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const r=t[t.length-1],o=Ln(s,e),a=Ln(r,e);return!o||!a?!1:Br(t)||(n==="spring"||ls(n))&&i}function Ce(t){t.duration=0,t.type}const Fr=new Set(["opacity","clipPath","filter","transform"]),Or=We(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function jr(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:s,damping:r,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return Or()&&n&&Fr.has(n)&&(n!=="transform"||!u)&&!l&&!i&&s!=="mirror"&&r!==0&&o!=="inertia"}const Nr=40;class Ur extends Qe{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=O.now();const d={autoplay:e,delay:n,type:i,repeat:s,repeatDelay:r,repeatType:o,name:l,motionValue:u,element:c,...h},f=c?.KeyframeResolver||tn;this.keyframeResolver=new f(a,(p,v,y)=>this.onKeyframesResolved(p,v,d,!y),l,u,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,s){this.keyframeResolver=void 0;const{name:r,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=i;this.resolvedAt=O.now(),Ir(e,r,o,a)||((X.instantAnimations||!l)&&c?.(qe(e,i,n)),e[0]=e[e.length-1],Ce(i),i.repeat=0);const d={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Nr?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},f=!u&&jr(d)?new kr({...d,element:d.motionValue.owner.current}):new Ze(d);f.finished.then(()=>this.notifyFinished()).catch(H),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),xr()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Wr=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Hr(t){const e=Wr.exec(t);if(!e)return[,];const[,n,i,s]=e;return[`--${n??i}`,s]}function us(t,e,n=1){const[i,s]=Hr(t);if(!i)return;const r=window.getComputedStyle(e).getPropertyValue(i);if(r){const o=r.trim();return Li(o)?parseFloat(o):o}return $e(s)?us(s,e,n+1):s}function en(t,e){return t?.[e]??t?.default??t}const hs=new Set(["width","height","top","left","right","bottom",...yt]),Gr={test:t=>t==="auto",parse:t=>t},ds=t=>e=>e.test(t),fs=[gt,P,$,J,Bo,ko,Gr],kn=t=>fs.find(ds(t));function Kr(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Bi(t):!0}const zr=new Set(["brightness","contrast","saturate","opacity"]);function $r(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(_e)||[];if(!i)return t;const s=n.replace(i,"");let r=zr.has(e)?1:0;return i!==n&&(r*=100),e+"("+r+s+")"}const _r=/\b([a-z-]*)\(.*?\)/gu,Ve={...q,getAnimatableNone:t=>{const e=t.match(_r);return e?e.map($r).join(" "):t}},Bn={...gt,transform:Math.round},Xr={rotate:J,rotateX:J,rotateY:J,rotateZ:J,scale:jt,scaleX:jt,scaleY:jt,scaleZ:jt,skew:J,skewX:J,skewY:J,distance:P,translateX:P,translateY:P,translateZ:P,x:P,y:P,z:P,perspective:P,transformPerspective:P,opacity:Dt,originX:Sn,originY:Sn,originZ:P},nn={borderWidth:P,borderTopWidth:P,borderRightWidth:P,borderBottomWidth:P,borderLeftWidth:P,borderRadius:P,radius:P,borderTopLeftRadius:P,borderTopRightRadius:P,borderBottomRightRadius:P,borderBottomLeftRadius:P,width:P,maxWidth:P,height:P,maxHeight:P,top:P,right:P,bottom:P,left:P,padding:P,paddingTop:P,paddingRight:P,paddingBottom:P,paddingLeft:P,margin:P,marginTop:P,marginRight:P,marginBottom:P,marginLeft:P,backgroundPositionX:P,backgroundPositionY:P,...Xr,zIndex:Bn,fillOpacity:Dt,strokeOpacity:Dt,numOctaves:Bn},Jr={...nn,color:E,backgroundColor:E,outlineColor:E,fill:E,stroke:E,borderColor:E,borderTopColor:E,borderRightColor:E,borderBottomColor:E,borderLeftColor:E,filter:Ve,WebkitFilter:Ve},ps=t=>Jr[t];function ms(t,e){let n=ps(t);return n!==Ve&&(n=q),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Yr=new Set(["auto","none","0"]);function qr(t,e,n){let i=0,s;for(;i<t.length&&!s;){const r=t[i];typeof r=="string"&&!Yr.has(r)&&Mt(r).values.length&&(s=t[i]),i++}if(s&&n)for(const r of e)t[r]=ms(n,s)}class Qr extends tn{constructor(e,n,i,s,r){super(e,n,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),$e(u))){const c=us(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!hs.has(i)||e.length!==2)return;const[s,r]=e,o=kn(s),a=kn(r);if(o!==a)if(Mn(o)&&Mn(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else st[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||Kr(e[s]))&&i.push(s);i.length&&qr(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=st[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const r=i.length-1,o=i[r];i[r]=st[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,l])=>{e.getValue(a).set(l)}),this.resolveNoneKeyframes()}}function Zr(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const s=n?.[t]??i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const gs=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function ta(t){return ki(t)&&"offsetHeight"in t}const In=30,ea=t=>!isNaN(parseFloat(t));class na{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=O.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=O.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ea(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new He);const i=this.events[e].add(n);return e==="change"?()=>{i(),C.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=O.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>In)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,In);return Ii(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pt(t,e){return new na(t,e)}const{schedule:sn}=$i(queueMicrotask,!1),G={x:!1,y:!1};function ys(){return G.x||G.y}function ia(t){return t==="x"||t==="y"?G[t]?null:(G[t]=!0,()=>{G[t]=!1}):G.x||G.y?null:(G.x=G.y=!0,()=>{G.x=G.y=!1})}function vs(t,e){const n=Zr(t),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[n,s,()=>i.abort()]}function Fn(t){return!(t.pointerType==="touch"||ys())}function sa(t,e,n={}){const[i,s,r]=vs(t,n),o=a=>{if(!Fn(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const c=h=>{Fn(h)&&(u(h),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,s)};return i.forEach(a=>{a.addEventListener("pointerenter",o,s)}),r}const Ts=(t,e)=>e?t===e?!0:Ts(t,e.parentElement):!1,on=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,oa=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ra(t){return oa.has(t.tagName)||t.tabIndex!==-1}const Wt=new WeakSet;function On(t){return e=>{e.key==="Enter"&&t(e)}}function se(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const aa=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=On(()=>{if(Wt.has(n))return;se(n,"down");const s=On(()=>{se(n,"up")}),r=()=>se(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",r,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function jn(t){return on(t)&&!ys()}function la(t,e,n={}){const[i,s,r]=vs(t,n),o=a=>{const l=a.currentTarget;if(!jn(a))return;Wt.add(l);const u=e(l,a),c=(f,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",d),Wt.has(l)&&Wt.delete(l),jn(f)&&typeof u=="function"&&u(f,{success:p})},h=f=>{c(f,l===window||l===document||n.useGlobalTarget||Ts(l,f.target))},d=f=>{c(f,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",d,s)};return i.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),ta(a)&&(a.addEventListener("focus",u=>aa(u,s)),!ra(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),r}function Ps(t){return ki(t)&&"ownerSVGElement"in t}function ca(t){return Ps(t)&&t.tagName==="svg"}const B=t=>!!(t&&t.getVelocity),ua=[...fs,E,q],ha=t=>ua.find(ds(t)),Ss=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function da(t=!0){const e=x.useContext(Oe);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=e,r=x.useId();x.useEffect(()=>{if(t)return s(r)},[t]);const o=x.useCallback(()=>t&&i&&i(r),[r,i,t]);return!n&&i?[!1,o]:[!0]}const xs=x.createContext({strict:!1}),Nn={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mt={};for(const t in Nn)mt[t]={isEnabled:e=>Nn[t].some(n=>!!e[n])};function fa(t){for(const e in t)mt[e]={...mt[e],...t[e]}}const pa=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _t(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||pa.has(t)}let bs=t=>!_t(t);function ma(t){typeof t=="function"&&(bs=e=>e.startsWith("on")?!_t(e):t(e))}try{ma(require("@emotion/is-prop-valid").default)}catch{}function ga(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(bs(s)||n===!0&&_t(s)||!e&&!_t(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}const Jt=x.createContext({});function Yt(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Et(t){return typeof t=="string"||Array.isArray(t)}const rn=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],an=["initial",...rn];function qt(t){return Yt(t.animate)||an.some(e=>Et(t[e]))}function ws(t){return!!(qt(t)||t.variants)}function ya(t,e){if(qt(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Et(n)?n:void 0,animate:Et(i)?i:void 0}}return t.inherit!==!1?e:{}}function va(t){const{initial:e,animate:n}=ya(t,x.useContext(Jt));return x.useMemo(()=>({initial:e,animate:n}),[Un(e),Un(n)])}function Un(t){return Array.isArray(t)?t.join(" "):t}const Rt={};function Ta(t){for(const e in t)Rt[e]=t[e],ze(e)&&(Rt[e].isCSSVariable=!0)}function As(t,{layout:e,layoutId:n}){return vt.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Rt[t]||t==="opacity")}const Pa={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Sa=yt.length;function xa(t,e,n){let i="",s=!0;for(let r=0;r<Sa;r++){const o=yt[r],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=gs(a,nn[o]);if(!l){s=!1;const c=Pa[o]||o;i+=`${c}(${u}) `}n&&(e[o]=u)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}function ln(t,e,n){const{style:i,vars:s,transformOrigin:r}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(vt.has(l)){o=!0;continue}else if(ze(l)){s[l]=u;continue}else{const c=gs(u,nn[l]);l.startsWith("origin")?(a=!0,r[l]=c):i[l]=c}}if(e.transform||(o||n?i.transform=xa(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=r;i.transformOrigin=`${l} ${u} ${c}`}}const cn=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Cs(t,e,n){for(const i in e)!B(e[i])&&!As(i,n)&&(t[i]=e[i])}function ba({transformTemplate:t},e){return x.useMemo(()=>{const n=cn();return ln(n,e,t),Object.assign({},n.vars,n.style)},[e])}function wa(t,e){const n=t.style||{},i={};return Cs(i,n,t),Object.assign(i,ba(t,e)),i}function Aa(t,e){const n={},i=wa(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const Ca={offset:"stroke-dashoffset",array:"stroke-dasharray"},Va={offset:"strokeDashoffset",array:"strokeDasharray"};function Da(t,e,n=1,i=0,s=!0){t.pathLength=1;const r=s?Ca:Va;t[r.offset]=P.transform(-i);const o=P.transform(e),a=P.transform(n);t[r.array]=`${o} ${a}`}function Vs(t,{attrX:e,attrY:n,attrScale:i,pathLength:s,pathSpacing:r=1,pathOffset:o=0,...a},l,u,c){if(ln(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:d}=t;h.transform&&(d.transform=h.transform,delete h.transform),(d.transform||h.transformOrigin)&&(d.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),d.transform&&(d.transformBox=c?.transformBox??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),i!==void 0&&(h.scale=i),s!==void 0&&Da(h,s,r,o,!1)}const Ds=()=>({...cn(),attrs:{}}),Ms=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Ma(t,e,n,i){const s=x.useMemo(()=>{const r=Ds();return Vs(r,e,Ms(i),t.transformTemplate,t.style),{...r.attrs,style:{...r.style}}},[e]);if(t.style){const r={};Cs(r,t.style,t),s.style={...r,...s.style}}return s}const Ea=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function un(t){return typeof t!="string"||t.includes("-")?!1:!!(Ea.indexOf(t)>-1||/[A-Z]/u.test(t))}function Ra(t,e,n,{latestValues:i},s,r=!1){const a=(un(t)?Ma:Aa)(e,i,s,t),l=ga(e,typeof t=="string",r),u=t!==x.Fragment?{...l,...a,ref:n}:{},{children:c}=e,h=x.useMemo(()=>B(c)?c.get():c,[c]);return x.createElement(t,{...u,children:h})}function Wn(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function hn(t,e,n,i){if(typeof e=="function"){const[s,r]=Wn(i);e=e(n!==void 0?n:t.custom,s,r)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,r]=Wn(i);e=e(n!==void 0?n:t.custom,s,r)}return e}function Ht(t){return B(t)?t.get():t}function La({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,s){return{latestValues:ka(n,i,s,t),renderState:e()}}function ka(t,e,n,i){const s={},r=i(t,{});for(const d in r)s[d]=Ht(r[d]);let{initial:o,animate:a}=t;const l=qt(t),u=ws(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?a:o;if(h&&typeof h!="boolean"&&!Yt(h)){const d=Array.isArray(h)?h:[h];for(let f=0;f<d.length;f++){const p=hn(t,d[f]);if(p){const{transitionEnd:v,transition:y,...m}=p;for(const T in m){let g=m[T];if(Array.isArray(g)){const w=c?g.length-1:0;g=g[w]}g!==null&&(s[T]=g)}for(const T in v)s[T]=v[T]}}}return s}const Es=t=>(e,n)=>{const i=x.useContext(Jt),s=x.useContext(Oe),r=()=>La(t,e,i,s);return n?r():fo(r)};function dn(t,e,n){const{style:i}=t,s={};for(const r in i)(B(i[r])||e.style&&B(e.style[r])||As(r,t)||n?.getValue(r)?.liveStyle!==void 0)&&(s[r]=i[r]);return s}const Ba=Es({scrapeMotionValuesFromProps:dn,createRenderState:cn});function Rs(t,e,n){const i=dn(t,e,n);for(const s in t)if(B(t[s])||B(e[s])){const r=yt.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=t[s]}return i}const Ia=Es({scrapeMotionValuesFromProps:Rs,createRenderState:Ds}),Fa=Symbol.for("motionComponentSymbol");function ct(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Oa(t,e,n){return x.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):ct(n)&&(n.current=i))},[e])}const fn=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ja="framerAppearId",Ls="data-"+fn(ja),ks=x.createContext({});function Na(t,e,n,i,s){const{visualElement:r}=x.useContext(Jt),o=x.useContext(xs),a=x.useContext(Oe),l=x.useContext(Ss).reducedMotion,u=x.useRef(null);i=i||o.renderer,!u.current&&i&&(u.current=i(t,{visualState:e,parent:r,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,h=x.useContext(ks);c&&!c.projection&&s&&(c.type==="html"||c.type==="svg")&&Ua(u.current,n,s,h);const d=x.useRef(!1);x.useInsertionEffect(()=>{c&&d.current&&c.update(n,a)});const f=n[Ls],p=x.useRef(!!f&&!window.MotionHandoffIsComplete?.(f)&&window.MotionHasOptimisedAnimation?.(f));return po(()=>{c&&(d.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),p.current&&c.animationState&&c.animationState.animateChanges())}),x.useEffect(()=>{c&&(!p.current&&c.animationState&&c.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(f)}),p.current=!1),c.enteringChildren=void 0)}),c}function Ua(t,e,n,i){const{layoutId:s,layout:r,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Bs(t.parent)),t.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!o||a&&ct(a),visualElement:t,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,crossfade:c,layoutScroll:l,layoutRoot:u})}function Bs(t){if(t)return t.options.allowProjection!==!1?t.projection:Bs(t.parent)}function oe(t,{forwardMotionProps:e=!1}={},n,i){n&&fa(n);const s=un(t)?Ia:Ba;function r(a,l){let u;const c={...x.useContext(Ss),...a,layoutId:Wa(a)},{isStatic:h}=c,d=va(a),f=s(a,h);if(!h&&Fe){Ha();const p=Ga(c);u=p.MeasureLayout,d.visualElement=Na(t,f,c,i,p.ProjectionNode)}return pe.jsxs(Jt.Provider,{value:d,children:[u&&d.visualElement?pe.jsx(u,{visualElement:d.visualElement,...c}):null,Ra(t,a,Oa(f,d.visualElement,l),f,h,e)]})}r.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=x.forwardRef(r);return o[Fa]=t,o}function Wa({layoutId:t}){const e=x.useContext(Ri).id;return e&&t!==void 0?e+"-"+t:t}function Ha(t,e){x.useContext(xs).strict}function Ga(t){const{drag:e,layout:n}=mt;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Ka(t,e){if(typeof Proxy>"u")return oe;const n=new Map,i=(r,o)=>oe(r,o,t,e),s=(r,o)=>i(r,o);return new Proxy(s,{get:(r,o)=>o==="create"?i:(n.has(o)||n.set(o,oe(o,void 0,t,e)),n.get(o))})}function Is({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function za({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function $a(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function re(t){return t===void 0||t===1}function De({scale:t,scaleX:e,scaleY:n}){return!re(t)||!re(e)||!re(n)}function et(t){return De(t)||Fs(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Fs(t){return Hn(t.x)||Hn(t.y)}function Hn(t){return t&&t!=="0%"}function Xt(t,e,n){const i=t-n,s=e*i;return n+s}function Gn(t,e,n,i,s){return s!==void 0&&(t=Xt(t,s,i)),Xt(t,n,i)+e}function Me(t,e=0,n=1,i,s){t.min=Gn(t.min,e,n,i,s),t.max=Gn(t.max,e,n,i,s)}function Os(t,{x:e,y:n}){Me(t.x,e.translate,e.scale,e.originPoint),Me(t.y,n.translate,n.scale,n.originPoint)}const Kn=.999999999999,zn=1.0000000000001;function _a(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let r,o;for(let a=0;a<s;a++){r=n[a],o=r.projectionDelta;const{visualElement:l}=r.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&ht(t,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Os(t,o)),i&&et(r.latestValues)&&ht(t,r.latestValues))}e.x<zn&&e.x>Kn&&(e.x=1),e.y<zn&&e.y>Kn&&(e.y=1)}function ut(t,e){t.min=t.min+e,t.max=t.max+e}function $n(t,e,n,i,s=.5){const r=V(t.min,t.max,s);Me(t,e,n,r,i)}function ht(t,e){$n(t.x,e.x,e.scaleX,e.scale,e.originX),$n(t.y,e.y,e.scaleY,e.scale,e.originY)}function js(t,e){return Is($a(t.getBoundingClientRect(),e))}function Xa(t,e,n){const i=js(t,n),{scroll:s}=e;return s&&(ut(i.x,s.offset.x),ut(i.y,s.offset.y)),i}const _n=()=>({translate:0,scale:1,origin:0,originPoint:0}),dt=()=>({x:_n(),y:_n()}),Xn=()=>({min:0,max:0}),M=()=>({x:Xn(),y:Xn()}),Ee={current:null},Ns={current:!1};function Ja(){if(Ns.current=!0,!!Fe)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ee.current=t.matches;t.addEventListener("change",e),e()}else Ee.current=!1}const Ya=new WeakMap;function qa(t,e,n){for(const i in e){const s=e[i],r=n[i];if(B(s))t.addValue(i,s);else if(B(r))t.addValue(i,pt(s,{owner:t}));else if(r!==s)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(i);t.addValue(i,pt(o!==void 0?o:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Jn=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Qa{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tn,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=O.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,C.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!r,this.isControllingVariants=qt(n),this.isVariantNode=ws(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in h){const f=h[d];l[d]!==void 0&&B(f)&&f.set(l[d])}}mount(e){this.current=e,Ya.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),Ns.current||Ja(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ee.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Y(this.notifyUpdate),Y(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=vt.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&C.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),r&&r(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in mt){const n=mt[e];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):M()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Jn.length;i++){const s=Jn[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,o=e[r];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=qa(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=pt(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Li(i)||Bi(i))?i=parseFloat(i):!ha(i)&&q.test(n)&&(i=ms(e,n)),this.setBaseTarget(e,B(i)?i.get():i)),B(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const r=hn(this.props,n,this.presenceContext?.custom);r&&(i=r[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!B(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new He),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){sn.render(this.render)}}class Us extends Qa{constructor(){super(...arguments),this.KeyframeResolver=Qr}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;B(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Ws(t,{style:e,vars:n},i,s){const r=t.style;let o;for(o in e)r[o]=e[o];s?.applyProjectionStyles(r,i);for(o in n)r.setProperty(o,n[o])}function Za(t){return window.getComputedStyle(t)}class tl extends Us{constructor(){super(...arguments),this.type="html",this.renderInstance=Ws}readValueFromInstance(e,n){if(vt.has(n))return this.projection?.isProjecting?Se(n):yr(e,n);{const i=Za(e),s=(ze(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return js(e,n)}build(e,n,i){ln(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return dn(e,n,i)}}const Hs=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function el(t,e,n,i){Ws(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(Hs.has(s)?s:fn(s),e.attrs[s])}class nl extends Us{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=M}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(vt.has(n)){const i=ps(n);return i&&i.default||0}return n=Hs.has(n)?n:fn(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return Rs(e,n,i)}build(e,n,i){Vs(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,s){el(e,n,i,s)}mount(e){this.isSVGTag=Ms(e.tagName),super.mount(e)}}const il=(t,e)=>un(t)?new nl(e):new tl(e,{allowProjection:t!==x.Fragment});function ft(t,e,n){const i=t.getProps();return hn(i,e,n!==void 0?n:i.custom,t)}const Re=t=>Array.isArray(t);function sl(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,pt(n))}function ol(t){return Re(t)?t[t.length-1]||0:t}function rl(t,e){const n=ft(t,e);let{transitionEnd:i={},transition:s={},...r}=n||{};r={...r,...i};for(const o in r){const a=ol(r[o]);sl(t,o,a)}}function al(t){return!!(B(t)&&t.add)}function Le(t,e){const n=t.getValue("willChange");if(al(n))return n.add(e);if(!n&&X.WillChange){const i=new X.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function Gs(t){return t.props[Ls]}const ll=t=>t!==null;function cl(t,{repeat:e,repeatType:n="loop"},i){const s=t.filter(ll),r=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[r]}const ul={type:"spring",stiffness:500,damping:25,restSpeed:10},hl=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),dl={type:"keyframes",duration:.8},fl={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pl=(t,{keyframes:e})=>e.length>2?dl:vt.has(t)?t.startsWith("scale")?hl(e[1]):ul:fl;function ml({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const pn=(t,e,n,i={},s,r)=>o=>{const a=en(i,t)||{},l=a.delay||i.delay||0;let{elapsed:u=0}=i;u=u-K(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:d=>{e.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:r?void 0:s};ml(a)||Object.assign(c,pl(t,c)),c.duration&&(c.duration=K(c.duration)),c.repeatDelay&&(c.repeatDelay=K(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let h=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(Ce(c),c.delay===0&&(h=!0)),(X.instantAnimations||X.skipAnimations)&&(h=!0,Ce(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,h&&!r&&e.get()!==void 0){const d=cl(c.keyframes,a);if(d!==void 0){C.update(()=>{c.onUpdate(d),c.onComplete()});return}}return a.isSync?new Ze(c):new Ur(c)};function gl({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function Ks(t,e,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:r=t.getDefaultTransition(),transitionEnd:o,...a}=e;i&&(r=i);const l=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const c in a){const h=t.getValue(c,t.latestValues[c]??null),d=a[c];if(d===void 0||u&&gl(u,c))continue;const f={delay:n,...en(r||{},c)},p=h.get();if(p!==void 0&&!h.isAnimating&&!Array.isArray(d)&&d===p&&!f.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const m=Gs(t);if(m){const T=window.MotionHandoffAnimation(m,c,C);T!==null&&(f.startTime=T,v=!0)}}Le(t,c),h.start(pn(c,h,d,t.shouldReduceMotion&&hs.has(c)?{type:!1}:f,t,v));const y=h.animation;y&&l.push(y)}return o&&Promise.all(l).then(()=>{C.update(()=>{o&&rl(t,o)})}),l}function zs(t,e,n,i=0,s=1){const r=Array.from(t).sort((u,c)=>u.sortNodePosition(c)).indexOf(e),o=t.size,a=(o-1)*i;return typeof n=="function"?n(r,o):s===1?r*i:a-r*i}function ke(t,e,n={}){const i=ft(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const r=i?()=>Promise.all(Ks(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:h}=s;return yl(t,e,l,u,c,h,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,u]=a==="beforeChildren"?[r,o]:[o,r];return l().then(()=>u())}else return Promise.all([r(),o(n.delay)])}function yl(t,e,n=0,i=0,s=0,r=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(ke(l,e,{...o,delay:n+(typeof i=="function"?0:i)+zs(t.variantChildren,l,i,s,r)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function vl(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(r=>ke(t,r,n));i=Promise.all(s)}else if(typeof e=="string")i=ke(t,e,n);else{const s=typeof e=="function"?ft(t,e,n.custom):e;i=Promise.all(Ks(t,s,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function $s(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const Tl=an.length;function _s(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?_s(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Tl;n++){const i=an[n],s=t.props[i];(Et(s)||s===!1)&&(e[i]=s)}return e}const Pl=[...rn].reverse(),Sl=rn.length;function xl(t){return e=>Promise.all(e.map(({animation:n,options:i})=>vl(t,n,i)))}function bl(t){let e=xl(t),n=Yn(),i=!0;const s=l=>(u,c)=>{const h=ft(t,c,l==="exit"?t.presenceContext?.custom:void 0);if(h){const{transition:d,transitionEnd:f,...p}=h;u={...u,...p,...f}}return u};function r(l){e=l(t)}function o(l){const{props:u}=t,c=_s(t.parent)||{},h=[],d=new Set;let f={},p=1/0;for(let y=0;y<Sl;y++){const m=Pl[y],T=n[m],g=u[m]!==void 0?u[m]:c[m],w=Et(g),S=m===l?T.isActive:null;S===!1&&(p=y);let A=g===c[m]&&g!==u[m]&&w;if(A&&i&&t.manuallyAnimateOnMount&&(A=!1),T.protectedKeys={...f},!T.isActive&&S===null||!g&&!T.prevProp||Yt(g)||typeof g=="boolean")continue;const R=wl(T.prevProp,g);let b=R||m===l&&T.isActive&&!A&&w||y>p&&w,F=!1;const j=Array.isArray(g)?g:[g];let rt=j.reduce(s(m),{});S===!1&&(rt={});const{prevResolvedValues:mn={}}=T,lo={...mn,...rt},gn=L=>{b=!0,d.has(L)&&(F=!0,d.delete(L)),T.needsAnimating[L]=!0;const N=t.getValue(L);N&&(N.liveStyle=!1)};for(const L in lo){const N=rt[L],Z=mn[L];if(f.hasOwnProperty(L))continue;let at=!1;Re(N)&&Re(Z)?at=!$s(N,Z):at=N!==Z,at?N!=null?gn(L):d.add(L):N!==void 0&&d.has(L)?gn(L):T.protectedKeys[L]=!0}T.prevProp=g,T.prevResolvedValues=rt,T.isActive&&(f={...f,...rt}),i&&t.blockInitialAnimation&&(b=!1);const yn=A&&R;b&&(!yn||F)&&h.push(...j.map(L=>{const N={type:m};if(typeof L=="string"&&i&&!yn&&t.manuallyAnimateOnMount&&t.parent){const{parent:Z}=t,at=ft(Z,L);if(Z.enteringChildren&&at){const{delayChildren:co}=at.transition||{};N.delay=zs(Z.enteringChildren,t,co)}}return{animation:L,options:N}}))}if(d.size){const y={};if(typeof u.initial!="boolean"){const m=ft(t,Array.isArray(u.initial)?u.initial[0]:u.initial);m&&m.transition&&(y.transition=m.transition)}d.forEach(m=>{const T=t.getBaseTarget(m),g=t.getValue(m);g&&(g.liveStyle=!0),y[m]=T??null}),h.push({animation:y})}let v=!!h.length;return i&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),i=!1,v?e(h):Promise.resolve()}function a(l,u){if(n[l].isActive===u)return Promise.resolve();t.variantChildren?.forEach(h=>h.animationState?.setActive(l,u)),n[l].isActive=u;const c=o(l);for(const h in n)n[h].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:r,getState:()=>n,reset:()=>{n=Yn(),i=!0}}}function wl(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!$s(e,t):!1}function tt(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Yn(){return{animate:tt(!0),whileInView:tt(),whileHover:tt(),whileTap:tt(),whileDrag:tt(),whileFocus:tt(),exit:tt()}}class Q{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Al extends Q{constructor(e){super(e),e.animationState||(e.animationState=bl(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Yt(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Cl=0;class Vl extends Q{constructor(){super(...arguments),this.id=Cl++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Dl={animation:{Feature:Al},exit:{Feature:Vl}};function Lt(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Ft(t){return{point:{x:t.pageX,y:t.pageY}}}const Ml=t=>e=>on(e)&&t(e,Ft(e));function wt(t,e,n,i){return Lt(t,e,Ml(n),i)}const Xs=1e-4,El=1-Xs,Rl=1+Xs,Js=.01,Ll=0-Js,kl=0+Js;function I(t){return t.max-t.min}function Bl(t,e,n){return Math.abs(t-e)<=n}function qn(t,e,n,i=.5){t.origin=i,t.originPoint=V(e.min,e.max,t.origin),t.scale=I(n)/I(e),t.translate=V(n.min,n.max,t.origin)-t.originPoint,(t.scale>=El&&t.scale<=Rl||isNaN(t.scale))&&(t.scale=1),(t.translate>=Ll&&t.translate<=kl||isNaN(t.translate))&&(t.translate=0)}function At(t,e,n,i){qn(t.x,e.x,n.x,i?i.originX:void 0),qn(t.y,e.y,n.y,i?i.originY:void 0)}function Qn(t,e,n){t.min=n.min+e.min,t.max=t.min+I(e)}function Il(t,e,n){Qn(t.x,e.x,n.x),Qn(t.y,e.y,n.y)}function Zn(t,e,n){t.min=e.min-n.min,t.max=t.min+I(e)}function Ct(t,e,n){Zn(t.x,e.x,n.x),Zn(t.y,e.y,n.y)}function W(t){return[t("x"),t("y")]}const Ys=({current:t})=>t?t.ownerDocument.defaultView:null,ti=(t,e)=>Math.abs(t-e);function Fl(t,e){const n=ti(t.x,e.x),i=ti(t.y,e.y);return Math.sqrt(n**2+i**2)}class qs{constructor(e,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:r=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=le(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=Fl(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!p)return;const{point:v}=d,{timestamp:y}=k;this.history.push({...v,timestamp:y});const{onStart:m,onMove:T}=this.handlers;f||(m&&m(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=ae(f,this.transformPagePoint),C.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=le(d.type==="pointercancel"?this.lastMoveEventInfo:ae(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,m),v&&v(d,m)},!on(e))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=o,this.contextWindow=s||window;const a=Ft(e),l=ae(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=k;this.history=[{...u,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,le(l,this.history)),this.removeListeners=kt(wt(this.contextWindow,"pointermove",this.handlePointerMove),wt(this.contextWindow,"pointerup",this.handlePointerUp),wt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Y(this.updatePoint)}}function ae(t,e){return e?{point:e(t.point)}:t}function ei(t,e){return{x:t.x-e.x,y:t.y-e.y}}function le({point:t},e){return{point:t,delta:ei(t,Qs(e)),offset:ei(t,Ol(e)),velocity:jl(e,.1)}}function Ol(t){return t[0]}function Qs(t){return t[t.length-1]}function jl(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=Qs(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>K(e)));)n--;if(!i)return{x:0,y:0};const r=z(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const o={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Nl(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?V(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?V(n,t,i.max):Math.min(t,n)),t}function ni(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Ul(t,{top:e,left:n,bottom:i,right:s}){return{x:ni(t.x,n,s),y:ni(t.y,e,i)}}function ii(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function Wl(t,e){return{x:ii(t.x,e.x),y:ii(t.y,e.y)}}function Hl(t,e){let n=.5;const i=I(t),s=I(e);return s>i?n=Vt(e.min,e.max-i,t.min):i>s&&(n=Vt(t.min,t.max-s,e.min)),_(0,1,n)}function Gl(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Be=.35;function Kl(t=Be){return t===!1?t=0:t===!0&&(t=Be),{x:si(t,"left","right"),y:si(t,"top","bottom")}}function si(t,e,n){return{min:oi(t,e),max:oi(t,n)}}function oi(t,e){return typeof t=="number"?t:t[e]||0}const zl=new WeakMap;class $l{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=M(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ft(h).point)},o=(h,d)=>{const{drag:f,dragPropagation:p,onDragStart:v}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ia(f),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),W(m=>{let T=this.getAxisMotionValue(m).get()||0;if($.test(T)){const{projection:g}=this.visualElement;if(g&&g.layout){const w=g.layout.layoutBox[m];w&&(T=I(w)*(parseFloat(T)/100))}}this.originPoint[m]=T}),v&&C.postRender(()=>v(h,d)),Le(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(h,d)=>{this.latestPointerEvent=h,this.latestPanInfo=d;const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:v,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:m}=d;if(p&&this.currentDirection===null){this.currentDirection=_l(m),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,m),this.updateAxis("y",d.point,m),this.visualElement.render(),y&&y(h,d)},l=(h,d)=>{this.latestPointerEvent=h,this.latestPanInfo=d,this.stop(h,d),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>W(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:c}=this.getProps();this.panSession=new qs(e,{onSessionStart:r,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:i,contextWindow:Ys(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,s=n||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!s||!i)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&C.postRender(()=>a(i,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!Nt(e,s,this.currentDirection))return;const r=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=Nl(o,this.constraints[e],this.elastic[e])),r.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&ct(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Ul(i.layoutBox,e):this.constraints=!1,this.elastic=Kl(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&W(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=Gl(i.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ct(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=Xa(i,s.root,this.visualElement.getTransformPagePoint());let o=Wl(s.layout.layoutBox,r);if(n){const a=n(za(o));this.hasMutatedConstraints=!!a,a&&(o=Is(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=W(c=>{if(!Nt(c,n,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const d=s?200:1e6,f=s?40:1e7,p={type:"inertia",velocity:i?e[c]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...r,...h};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Le(this.visualElement,e),i.start(pn(e,i,0,n,this.visualElement,!1))}stopAnimation(){W(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){W(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){W(n=>{const{drag:i}=this.getProps();if(!Nt(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];r.set(e[n]-V(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!ct(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};W(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=Hl({min:l,max:l},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),W(o=>{if(!Nt(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(V(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;zl.set(this.visualElement,this);const e=this.visualElement.current,n=wt(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();ct(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),C.read(i);const o=Lt(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(W(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),r(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:o=Be,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:o,dragMomentum:a}}}function Nt(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function _l(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Xl extends Q{constructor(e){super(e),this.removeGroupControls=H,this.removeListeners=H,this.controls=new $l(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||H}unmount(){this.removeGroupControls(),this.removeListeners()}}const ri=t=>(e,n)=>{t&&C.postRender(()=>t(e,n))};class Jl extends Q{constructor(){super(...arguments),this.removePointerDownListener=H}onPointerDown(e){this.session=new qs(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ys(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:ri(e),onStart:ri(n),onMove:i,onEnd:(r,o)=>{delete this.session,s&&C.postRender(()=>s(r,o))}}}mount(){this.removePointerDownListener=wt(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gt={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ai(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Pt={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(P.test(t))t=parseFloat(t);else return t;const n=ai(t,e.target.x),i=ai(t,e.target.y);return`${n}% ${i}%`}},Yl={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=q.parse(t);if(s.length>5)return i;const r=q.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const u=V(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),r(s)}};let ce=!1;class ql extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=e;Ta(Ql),r&&(n.group&&n.group.add(r),i&&i.register&&s&&i.register(r),ce&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Gt.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:r}=this.props,{projection:o}=i;return o&&(o.isPresent=r,ce=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==r?o.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?o.promote():o.relegate()||C.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),sn.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;ce=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Zs(t){const[e,n]=da(),i=x.useContext(Ri);return pe.jsx(ql,{...t,layoutGroup:i,switchLayoutGroup:x.useContext(ks),isPresent:e,safeToRemove:n})}const Ql={borderRadius:{...Pt,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pt,borderTopRightRadius:Pt,borderBottomLeftRadius:Pt,borderBottomRightRadius:Pt,boxShadow:Yl};function Zl(t,e,n){const i=B(t)?t:pt(t);return i.start(pn("",i,e,n)),i.animation}const tc=(t,e)=>t.depth-e.depth;class ec{constructor(){this.children=[],this.isDirty=!1}add(e){je(this.children,e),this.isDirty=!0}remove(e){Ne(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tc),this.isDirty=!1,this.children.forEach(e)}}function nc(t,e){const n=O.now(),i=({timestamp:s})=>{const r=s-n;r>=e&&(Y(i),t(r-e))};return C.setup(i,!0),()=>Y(i)}const to=["TopLeft","TopRight","BottomLeft","BottomRight"],ic=to.length,li=t=>typeof t=="string"?parseFloat(t):t,ci=t=>typeof t=="number"||P.test(t);function sc(t,e,n,i,s,r){s?(t.opacity=V(0,n.opacity??1,oc(i)),t.opacityExit=V(e.opacity??1,0,rc(i))):r&&(t.opacity=V(e.opacity??1,n.opacity??1,i));for(let o=0;o<ic;o++){const a=`border${to[o]}Radius`;let l=ui(e,a),u=ui(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||ci(l)===ci(u)?(t[a]=Math.max(V(li(l),li(u),i),0),($.test(u)||$.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=V(e.rotate||0,n.rotate||0,i))}function ui(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const oc=eo(0,.5,Hi),rc=eo(.5,.95,H);function eo(t,e,n){return i=>i<t?0:i>e?1:n(Vt(t,e,i))}function hi(t,e){t.min=e.min,t.max=e.max}function U(t,e){hi(t.x,e.x),hi(t.y,e.y)}function di(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function fi(t,e,n,i,s){return t-=e,t=Xt(t,1/n,i),s!==void 0&&(t=Xt(t,1/s,i)),t}function ac(t,e=0,n=1,i=.5,s,r=t,o=t){if($.test(e)&&(e=parseFloat(e),e=V(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=V(r.min,r.max,i);t===r&&(a-=e),t.min=fi(t.min,e,n,a,s),t.max=fi(t.max,e,n,a,s)}function pi(t,e,[n,i,s],r,o){ac(t,e[n],e[i],e[s],e.scale,r,o)}const lc=["x","scaleX","originX"],cc=["y","scaleY","originY"];function mi(t,e,n,i){pi(t.x,e,lc,n?n.x:void 0,i?i.x:void 0),pi(t.y,e,cc,n?n.y:void 0,i?i.y:void 0)}function gi(t){return t.translate===0&&t.scale===1}function no(t){return gi(t.x)&&gi(t.y)}function yi(t,e){return t.min===e.min&&t.max===e.max}function uc(t,e){return yi(t.x,e.x)&&yi(t.y,e.y)}function vi(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function io(t,e){return vi(t.x,e.x)&&vi(t.y,e.y)}function Ti(t){return I(t.x)/I(t.y)}function Pi(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class hc{constructor(){this.members=[]}add(e){je(this.members,e),e.scheduleRender()}remove(e){if(Ne(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dc(t,e,n){let i="";const s=t.x.translate/e.x,r=t.y.translate/e.y,o=n?.z||0;if((s||r||o)&&(i=`translate3d(${s}px, ${r}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:h,rotateY:d,skewX:f,skewY:p}=n;u&&(i=`perspective(${u}px) ${i}`),c&&(i+=`rotate(${c}deg) `),h&&(i+=`rotateX(${h}deg) `),d&&(i+=`rotateY(${d}deg) `),f&&(i+=`skewX(${f}deg) `),p&&(i+=`skewY(${p}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const ue=["","X","Y","Z"],fc=1e3;let pc=0;function he(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function so(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Gs(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",C,!(s||r))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&so(i)}function oo({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(o={},a=e?.()){this.id=pc++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(yc),this.nodes.forEach(Sc),this.nodes.forEach(xc),this.nodes.forEach(vc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ec)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new He),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Ps(o)&&!ca(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let c,h=0;const d=()=>this.root.updateBlockedByResize=!1;C.read(()=>{h=window.innerWidth}),t(o,()=>{const f=window.innerWidth;f!==h&&(h=f,this.root.updateBlockedByResize=!0,c&&c(),c=nc(d,250),Gt.hasAnimatedSinceResize&&(Gt.hasAnimatedSinceResize=!1,this.nodes.forEach(bi)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:d,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||Vc,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=u.getProps(),m=!this.targetLayout||!io(this.targetLayout,f),T=!h&&d;if(this.options.layoutRoot||this.resumeFrom||T||h&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const g={...en(p,"layout"),onPlay:v,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(g.delay=0,g.type=!1),this.startAnimation(g),this.setAnimationOrigin(c,T)}else h||bi(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Y(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bc),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&so(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Si);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(xi);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Pc),this.nodes.forEach(mc),this.nodes.forEach(gc)):this.nodes.forEach(xi),this.clearAllSnapshots();const a=O.now();k.delta=_(0,1e3/60,a-k.timestamp),k.timestamp=a,k.isProcessing=!0,Zt.update.process(k),Zt.preRender.process(k),Zt.render.process(k),k.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sn.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Tc),this.sharedNodes.forEach(wc)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,C.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){C.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!I(this.snapshot.measuredBox.x)&&!I(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=M(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!no(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||et(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Dc(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return M();const a=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Mc))){const{scroll:u}=this.root;u&&(ut(a.x,u.offset.x),ut(a.y,u.offset.y))}return a}removeElementScroll(o){const a=M();if(U(a,o),this.scroll?.wasRoot)return a;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:h}=u;u!==this.root&&c&&h.layoutScroll&&(c.wasRoot&&U(a,o),ut(a.x,c.offset.x),ut(a.y,c.offset.y))}return a}applyTransform(o,a=!1){const l=M();U(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&ht(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),et(c.latestValues)&&ht(l,c.latestValues)}return et(this.latestValues)&&ht(l,this.latestValues),l}removeTransform(o){const a=M();U(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!et(u.latestValues))continue;De(u.latestValues)&&u.updateSnapshot();const c=M(),h=u.measurePageBox();U(c,h),mi(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return et(this.latestValues)&&mi(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==k.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:h}=this.options;if(!(!this.layout||!(c||h))){if(this.resolvedRelativeTargetAt=k.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=M(),this.relativeTargetOrigin=M(),Ct(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),U(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=M(),this.targetWithTransforms=M()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Il(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):U(this.target,this.layout.layoutBox),Os(this.target,this.targetDelta)):U(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=M(),this.relativeTargetOrigin=M(),Ct(this.relativeTargetOrigin,this.target,d.target),U(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||De(this.parent.latestValues)||Fs(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===k.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;U(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,d=this.treeScale.y;_a(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=M());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(di(this.prevProjectionDelta.x,this.projectionDelta.x),di(this.prevProjectionDelta.y,this.projectionDelta.y)),At(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==d||!Pi(this.projectionDelta.x,this.prevProjectionDelta.x)||!Pi(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=dt(),this.projectionDelta=dt(),this.projectionDeltaWithTransform=dt()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=dt();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=M(),f=l?l.source:void 0,p=this.layout?this.layout.source:void 0,v=f!==p,y=this.getStack(),m=!y||y.members.length<=1,T=!!(v&&!m&&this.options.crossfade===!0&&!this.path.some(Cc));this.animationProgress=0;let g;this.mixTargetDelta=w=>{const S=w/1e3;wi(h.x,o.x,S),wi(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ct(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ac(this.relativeTarget,this.relativeTargetOrigin,d,S),g&&uc(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=M()),U(g,this.relativeTarget)),v&&(this.animationValues=c,sc(c,u,this.latestValues,S,T,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Y(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=C.update(()=>{Gt.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=pt(0)),this.currentAnimation=Zl(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fc),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&ro(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||M();const h=I(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const d=I(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}U(a,l),ht(a,c),At(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new hc),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&he("z",o,u,this.animationValues);for(let c=0;c<ue.length;c++)he(`rotate${ue[c]}`,o,u,this.animationValues),he(`skew${ue[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Ht(a?.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Ht(a?.pointerEvents)||""),this.hasProjected&&!et(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=dc(this.projectionDeltaWithTransform,this.treeScale,c);l&&(h=l(c,h)),o.transform=h;const{x:d,y:f}=this.projectionDelta;o.transformOrigin=`${d.origin*100}% ${f.origin*100}% 0`,u.animationValues?o.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const p in Rt){if(c[p]===void 0)continue;const{correct:v,applyTo:y,isCSSVariable:m}=Rt[p],T=h==="none"?c[p]:v(c[p],u);if(y){const g=y.length;for(let w=0;w<g;w++)o[y[w]]=T}else m?this.options.visualElement.renderState.vars[p]=T:o[p]=T}this.options.layoutId&&(o.pointerEvents=u===this?Ht(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(Si),this.root.sharedNodes.clear()}}}function mc(t){t.updateLayout()}function gc(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,r=e.source!==t.layout.source;s==="size"?W(c=>{const h=r?e.measuredBox[c]:e.layoutBox[c],d=I(h);h.min=n[c].min,h.max=h.min+d}):ro(s,e.layoutBox,n)&&W(c=>{const h=r?e.measuredBox[c]:e.layoutBox[c],d=I(n[c]);h.max=h.min+d,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[c].max=t.relativeTarget[c].min+d)});const o=dt();At(o,n,e.layoutBox);const a=dt();r?At(a,t.applyTransform(i,!0),e.measuredBox):At(a,n,e.layoutBox);const l=!no(o);let u=!1;if(!t.resumeFrom){const c=t.getClosestProjectingParent();if(c&&!c.resumeFrom){const{snapshot:h,layout:d}=c;if(h&&d){const f=M();Ct(f,e.layoutBox,h.layoutBox);const p=M();Ct(p,n,d.layoutBox),io(f,p)||(u=!0),c.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=f,t.relativeParent=c)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function yc(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function vc(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Tc(t){t.clearSnapshot()}function Si(t){t.clearMeasurements()}function xi(t){t.isLayoutDirty=!1}function Pc(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function bi(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Sc(t){t.resolveTargetDelta()}function xc(t){t.calcProjection()}function bc(t){t.resetSkewAndRotation()}function wc(t){t.removeLeadSnapshot()}function wi(t,e,n){t.translate=V(e.translate,0,n),t.scale=V(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Ai(t,e,n,i){t.min=V(e.min,n.min,i),t.max=V(e.max,n.max,i)}function Ac(t,e,n,i){Ai(t.x,e.x,n.x,i),Ai(t.y,e.y,n.y,i)}function Cc(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Vc={duration:.45,ease:[.4,0,.1,1]},Ci=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Vi=Ci("applewebkit/")&&!Ci("chrome/")?Math.round:H;function Di(t){t.min=Vi(t.min),t.max=Vi(t.max)}function Dc(t){Di(t.x),Di(t.y)}function ro(t,e,n){return t==="position"||t==="preserve-aspect"&&!Bl(Ti(e),Ti(n),.2)}function Mc(t){return t!==t.root&&t.scroll?.wasRoot}const Ec=oo({attachResizeListener:(t,e)=>Lt(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),de={current:void 0},ao=oo({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!de.current){const t=new Ec({});t.mount(window),t.setOptions({layoutScroll:!0}),de.current=t}return de.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Rc={pan:{Feature:Jl},drag:{Feature:Xl,ProjectionNode:ao,MeasureLayout:Zs}};function Mi(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,r=i[s];r&&C.postRender(()=>r(e,Ft(e)))}class Lc extends Q{mount(){const{current:e}=this.node;e&&(this.unmount=sa(e,(n,i)=>(Mi(this.node,i,"Start"),s=>Mi(this.node,s,"End"))))}unmount(){}}class kc extends Q{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kt(Lt(this.node.current,"focus",()=>this.onFocus()),Lt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ei(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),r=i[s];r&&C.postRender(()=>r(e,Ft(e)))}class Bc extends Q{mount(){const{current:e}=this.node;e&&(this.unmount=la(e,(n,i)=>(Ei(this.node,i,"Start"),(s,{success:r})=>Ei(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ie=new WeakMap,fe=new WeakMap,Ic=t=>{const e=Ie.get(t.target);e&&e(t)},Fc=t=>{t.forEach(Ic)};function Oc({root:t,...e}){const n=t||document;fe.has(n)||fe.set(n,{});const i=fe.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(Fc,{root:t,...e})),i[s]}function jc(t,e,n){const i=Oc(e);return Ie.set(t,n),i.observe(t),()=>{Ie.delete(t),i.unobserve(t)}}const Nc={some:0,all:1};class Uc extends Q{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:r}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:Nc[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,r&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),d=u?c:h;d&&d(l)};return jc(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Wc(e,n))&&this.startObserver()}unmount(){}}function Wc({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Hc={inView:{Feature:Uc},tap:{Feature:Bc},focus:{Feature:kc},hover:{Feature:Lc}},Gc={layout:{ProjectionNode:ao,MeasureLayout:Zs}},Kc={...Dl,...Hc,...Rc,...Gc},nu=Ka(Kc,il);export{Ri as L,Ss as M,Oe as P,da as a,po as b,Jc as c,Qc as d,Zc as e,Yc as f,tu as g,ta as i,pe as j,nu as m,_c as p,qc as s,fo as u,Xc as w};
